<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>QR Scanner - Front Camera</title>
  <script type="module">
    import QrScanner from "https://unpkg.com/qr-scanner@1.4.2/qr-scanner.min.js";

    window.addEventListener('DOMContentLoaded', async () => {
      const video = document.getElementById('qr-video');

      const scanner = new QrScanner(video, result => {
        window.location.href = `view.html?id=${result}`;
      }, {
        preferredCamera: 'user',  // try to use front-facing camera
        highlightScanRegion: true,
        highlightCodeOutline: true,
        maxScansPerSecond: 2
      });

      scanner.start();
    });
  </script>
</head>
<body>
  <h2>イタリアパビリオンへようこそ！</h2>
  <img src="camera_image.png" alt="パビリオン画像" style="width:auto; max-width:100%; height:auto;">
  <video id="qr-video" style="width: 100%; max-width: 400px;" muted></video>
</body>
</html>
