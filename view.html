<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>入場確認</title>
  <script src="data/map.js"></script>
  <style>
    body { font-family: sans-serif; text-align: center; }
    img { width: 300px; margin-top: 20px; }
  </style>
</head>
<body>
  <h1 id="message">読み込み中...</h1>
  <img id="image" src="" alt="画像" />
  <audio id="audio" autoplay></audio>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");
    const from = urlParams.get("from");

    const name = ID_NAME_MAP[id];
    if (name) {{
      const msg = `${{name}}さん　${{from}} へのにゅうじょうかくにんしました。`;
      document.getElementById("message").textContent = msg;
      document.getElementById("image").src = `data/${{id}}.jpg`;
      document.getElementById("audio").src = `audio/${{from}}.mp3`;
    }} else {{
      document.getElementById("message").textContent = "データが見つかりません";
    }}

    setTimeout(() => {{
      if (from) window.location.href = `${{from}}.html`;
    }}, 5000);
  </script>
</body>
</html>
